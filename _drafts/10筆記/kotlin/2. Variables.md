# 變數 (Variables)

## val v.s var
首先先來看在 Kotlin 中， 有著兩種不同的變數宣告的方式:

- val
    - 唯讀的變數 (read-only variable)
- var
    - 可修改的變數 (variable)

從下圖可以看到， 以關鍵字 val 宣告的 name 並賦予初值，若後續更改其內容會有錯誤。關鍵字 val 就等同於 JavaScript 中的 const 一樣，給予初始值後就無法再更動變數內容。

![](https://i.imgur.com/mWky7Kl.png)

如果想要使變數可以自由修改，建議使用 var 宣告。val 使用時機基本上是在環境變數設定，不希望有人更動他的內容。

```kt
var name = "Andy"
name = "Joe"
```

## String template
我們可以透過 String template 在 println 裡面呼叫變數。

```kt
var name = "Andy"
println("My name is $name.")
```

輸出結果：
```
My name is Andy.
```

Kotlin 是強型別的語言，但是它有類型推斷(type inference)的功能，所以即使今天不宣告變數的類型，Kotlin 也會自動幫你推斷出來。以下是有指定變數類型的寫法:

```kt
var myName: String = "Andy"
var old:Int = 16
println("My name is $myName, I'm $old years old.")
```

輸出結果：
```
My name is Andy, I'm 16 years old.
```

> 既然有了類型推斷，一般開發時我們就不特別給予型態。

## Type Conversion
我們可以將變數任意的轉換型態，以下展示整數與浮點數間的轉換

```kt
// Integer to Double
val num = 10
val num1 :Double = num.toDouble()
```

字串也能轉換成指定的型態，例如整數。
```kt
// String to Integer
val age = "20"
age.toInt()
```

萬一出現 `NumberFormatException` 我們可以使用 `toIntOrNull()` 抓出例外並回傳 null。由於 Kotlin 的變數預設是不能是 null 的，要加上變數類型和`?`，這個變數才能賦予 null。

```kt
val pi = "3.14"
val newPi:Int? = pi.toIntOrNull()
println(newPi) // null
```

此外 `toInt()` 也可以讀取二進制的字串轉成十進位。

```kt
val istr3 = "1111"
val int3: Int? = istr3.toInt(2)
println(int3) // 15
```