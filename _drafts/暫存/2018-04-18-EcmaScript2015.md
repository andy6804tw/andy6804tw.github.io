
EcmaScript 2015 (又稱 ES6) 是在 2015 年所發布的，也是近幾年來各位常用的 JavaScript 規範，此版本出來更新了許多新的寫法，使用更巧妙的方式來改善有的寫法例如箭頭函示(Arrow Function) 以及物件(Map) 走訪......等，

### 1. default parameter values
ES6 新增了 [(default parameter values)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters) 函示內的參數可以給予預設值，避免遇到 undefined 空值問題，下面範例中使用 ES6 的箭頭函式寫法，並同時將參數 b 做初始化動作，你可以發現執行 `multiply(5)` 與 `multiply(5, 1)` 都會得到相同結果。

```js
const multiply = (a, b = 1) => {
  return a * b;
}

multiply(5, 2); // 10
multiply(5, 1); // 5
multiply(5);    // 5
```

這邊做一個小應用，當使用者沒輸入指定的參數時就丟出錯誤(throw Error)。

```js
const required = () => { throw new Error('Parameter is require.') };

// 初始化 a、b 若參數尚未被改寫則執行 required() 並拋出例外
const add = (a = required(), b = required()) => a + b;


add(1, 2); // 3
add(1); // 拋出錯誤例外
```

## 使用 reduce 來處理 Array
陣列中的 [reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)  

- Sum all the values of an array(陣列加總)
> 後面的 0 可以改成任意數字做初始化

```js
var sum = [0, 1, 2, 3].reduce((accumulator, currentValue) => {
  return accumulator + currentValue;
}, 0);
// sum is 6
console.log(sum);
```

- Flatten an array of arrays(陣列平行化)
`concat()` 為合併陣列

```js
const flattened = [[0, 1], [2, 3], [4, 5]].reduce(
  (accumulator, currentValue) => accumulator.concat(currentValue),
  []
);

// flattened is [0, 1, 2, 3, 4, 5]
```

- Counting instances of values in an object(計算元素數量)

```js
const names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice'];

const countedNames = names.reduce(function (allNames, name) {
  if (name in allNames) {
    allNames[name]++;
  }
  else {
    allNames[name] = 1;
  }
  return allNames;
}, {});
// countedNames is:
// { 'Alice': 2, 'Bob': 1, 'Tiff': 1, 'Bruce': 1 }
```

- Remove duplicate items in array(移除重複元素)

```js
const arr = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];
const result = arr.sort().reduce((accumulator, current) => {
  const length = accumulator.length
  if (length === 0 || accumulator[length - 1] !== current) {
    accumulator.push(current);
  }
  return accumulator;
}, []);
console.log(result); //[1,2,3,4,5]
```
