---
layout: post
title: '資料庫規範'
categories: ''
description: ''
keywords: 
---

## MySQL資料庫命名規則及設計規範

**目錄**

- [1. 前言](#1-前言)
- [2. 資料庫表單(Table)](#2-資料庫表單)
    - [2.1. 資料表名稱命名](#21-資料表名稱命名)
    - [2.2. 資料表名稱明確性且有意義](#22-資料表名稱明確性且有意義)
- [3. 資料庫欄位](#2-資料庫欄位)
    - [3.1. 資料庫欄位命名](#31-資料庫欄位命名)
    - [3.2. 欄位名稱小寫](#32-欄位名稱小寫)
    - [3.3. 資料表和欄位的命名要一致](#33-資料表和欄位的命名要一致)
    - [3.4. 所有的資料表都要有一個整數型別的id欄位](#34-所有的資料表都要有一個整數型別的id欄位)
    - [3.5. 選擇bit欄位給布林值使用](#35-選擇bit欄位給布林值使用)
- [4. 其他](#4-其他)
    - [4.1. 密碼儲存安全性](#41-密碼儲存安全性)

## 1. 前言

本文件提供 MySQL 資料庫命名規則及設計規範，由於資料庫命名一般都是計師習慣沒有一定的標準，故在此搜集業界上大多數人認同的設計習慣並整理出來。


## 2. 資料庫表單

### 2.1. 資料表名稱命名
資料庫表單就是俗稱的 `table` 又稱資料表，命名方式單複數皆有人使用且字首大寫，如 Products、Product。

>Note: 可依照個人習慣來決定是否要使用複數命名。

### 2.2. 資料表名稱明確性且有意義
命名方式以功能導向目的可讓人一看就知道該欄位是儲存什麼樣的內容，禁使用冷門或自定義縮寫。

## 3. 資料庫欄位

### 3.1. 資料庫欄位命名
使用前綴(Prefix) 在欄位裡面，字首改為小寫若有複數轉為單數，且單遵循字中間加底線的命名方式。

> Why? 這樣才能一看就知道是哪個資料表的某個欄位。

**範例.**
```
1. Product 資料表裡的 id 稱為 product_id
2. Order 資料表裡的 name 稱為 order_name
``` 

### 3.2. 欄位名稱小寫
所有的欄位命名都使用小寫。

> Why? 在MySQL中大小寫視為不同欄位，所以統一小寫比較不容易出錯。

### 3.3. 資料表和欄位的命名要一致
命名方式以功能導向目的可讓人一看就知道該欄位是儲存什麼樣的內容，禁使用冷門或自定義縮寫。

### 3.4. 所有的資料表都要有一個整數型別的id欄位
所有的資料表都要有一個整數型別的id欄位，即使當前不需要id，以後也有可能會用到（例如在合併資料表或做索引的時候）。

### 3.5. 選擇bit欄位給布林值使用
選擇bit欄位給布林值使用，整數或varchar沒有必要，而且也浪費儲存空間。另外，替這些欄位取名為”Is”…什麼的（例如IsTeacher來代表是或否）。

### 3.6. 多利用資料庫功能
使用constraints（foreign key, check, not null …）來維護資料的完整性，不要把控制權整個交給應用程式

## 4. 其他

### 4.1. 密碼儲存安全性
用戶密碼要加密以維護安全，意思是當新增帳戶時使用者密碼建議不要赤裸儲存在資料庫當中，要使用雜湊將密碼加密，API 要存取資料時再將雜湊解密確保資料安全性。

> Why? 預防有心人士將用戶資料盜取。 






## 查詢

- 選擇整數資料型別的欄位（或其變體）來做索引，用varchar欄位做索引會有效能上的問題。
- 資料庫存取要提供驗證關卡，不要每個使用者都給予最高管理員的權限
- 除非真的必要，否則避免使用”select *”這樣的查詢語句，使用”select [必要的欄位表列]”這樣效能比較好。


參考：
- http://www.davidpai.tw/database/2012/20-database-design-best-practices/
- http://www.neo.com.tw/archives/275
- http://nchusg-info.blogspot.tw/2012/12/mysql-aeolus-fntsrlike-1_8753.html
- http://renjin.blogspot.tw/2008/02/database-naming-conventions.html
